
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<script type="text/javascript" src="http://d3js.org/d3.v3.js"></script>
<style>

html, body {
    overflow: hidden;
}

#src_container {
    display: inline-block;
    border-width: thin;
    border-style: solid;
    border-color: red;
}

#src_filter {
    name: "Unknown group";
}

#sources {
    border-width: thin;
    border-style: solid;
    border-color: #007e7e;
    overflow-x: auto;
    direction: rtl;
}

.src_label {
    text-align: right;
    fill: #2ca02c;
}

#tgt_container {
    display: inline-block;
    border-width: thin;
    border-style: solid;
    border-color: red;
}

#targets {
    border-width: thin;
    border-style: solid;
    border-color: #007e7e;
    overflow-x: auto;
    direction: ltr;
}

#tgt_filter {
    name: "Param group";
}

.tgt_label {
    fill: #d62728;
}

select {
    size: 10;
}

ul {
    list-style-type: none;
    display: inline-block;
    overflow: auto;
}

li {
  font: 300 11px "Helvetica Neue", Helvetica, Arial, sans-serif;
  fill: #bbb;
}

</style>
</head>
<body>
<script type="text/javascript">

var data = <connection_data>;

window.onload = function() {

    var w=window.innerWidth, h=window.innerHeight-100;

    var srcs = data.srcs;
    var targets = data.targets;
    var tgt2src = data.tgt2src;
    var src2tgts = data.src2tgts;
    var src_groups = data.src_groups;
    var tgt_groups = data.tgt_groups;

    var src_filter = d3.select("#src_filter")
        .selectAll("option")
        .data(src_groups)
        .enter()
        .append("option")
        .text(function(d, i){ return d.name})

    var tgt_filter = d3.select("#tgt_filter")
        .selectAll("option")
        .data(tgt_groups)
        .enter()
        .append("option")
        .text(function(d, i){ return d.name})

    var src_list = d3.select("#src_list")
        .selectAll("li")
        .data(srcs)
        .enter()
        .append("li")
        .attr("class", "node_label")
        .attr("class", "src_label")
		.text(function(d,i){ return d.name });

    var tgt_list = d3.select("#tgt_list")
        .selectAll("li")
        .data(targets)
        .enter()
        .append("li")
        .attr("class", "node_label")
        .attr("class", "tgt_label")
		.text(function(d,i){ return d.name });

    d3.selectAll("ul")
        .style("height", h+"px");
}

function src_group_changed() {
    var selectBox = document.getElementById("src_filter");
    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
    alert(selectedValue)
}

function tgt_group_changed() {
    var selectBox = document.getElementById("tgt_filter");
    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
    alert(selectedValue)
}

</script>
    <div id="src_container">
        <select onchange="src_group_changed()" id="src_filter">
        </select>
        <div id="sources">
            <ul id="src_list">
            </ul>
        </div>
    </div>
    <div id="tgt_container">
        <select onchange="tgt_group_changed()" id="tgt_filter">
        </select>
        <div id="targets">
            <ul id="tgt_list">
            </ul>
        </div>
    </div>
</body>
</html>
