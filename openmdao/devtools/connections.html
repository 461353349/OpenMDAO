
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<script type="text/javascript" src="http://d3js.org/d3.v3.js"></script>
<style>

#src_container {
    overflow: auto;
}

#tgt_container {
    overflow: auto;
}

ul {
    list-style-type: none;
}

li {
  font: 300 11px "Helvetica Neue", Helvetica, Arial, sans-serif;
  fill: #bbb;
}

.src_label {
    text-anchor: end;
    fill: #2ca02c;
}

.tgt_label {
    text-anchor: start;
    fill: #d62728;
}

</style>
</head>
<body>
<script type="text/javascript">

var data = <connection_data>;

window.onload = function() {

    var w=window.innerWidth, h=window.innerHeight;

    var srcs = data.srcs;
    var targets = data.targets;
    var link_data = data.links;
    var nodes = {};

    d3.select("#src_vars")
        .selectAll("li")
        .data(srcs)
        .enter().append("li")
        .attr("class", "node_label")
        .attr("class", "src_label")
		.text(function(d,i){ return d.name });

    //var text_height = d3.select('.src_label').node().getBBox().height;
    //var left_width = left_labels.node().getBBox().width;

    // d3.selectAll('.left_label')
    //     .attr('x', function(d, i) { return left_width })
    //     .attr('y', function(d, i) { return i*text_height })
    //     .each(function (d, i) {
    //         nodes[d.name].x = left_width;
    //         nodes[d.name].y = i*text_height;
    //     });

    d3.select("#tgt_vars")
        .selectAll("li")
        .data(targets)
        .enter().append("li")
        .attr("class", "node_label")
        .attr("class", "tgt_label")
		.text(function(d,i){ return d.name });

    // var right_width = right_labels.node().getBBox().width;
    //
    // d3.selectAll('.right_label')
    //     .attr('x', function(d, i) { return w - right_width; })
    //     .each(function (d, i) {
    //         nodes[d.name].x = w-right_width;
    //         nodes[d.name].y = i*text_height;
    //     });

    // var left_height = d3.select('#left_labels').node().getBBox().height
    // var right_height = d3.select('#right_labels').node().getBBox().height
    // var max_height = 0;
    //
    // if (left_height > right_height) {
    //     max_height = left_height;
    // }
    // else {
    //     max_height = right_height;
    // }
    //
    // var svg = d3.select("svg")
    //     .style("height", max_height + "px")
    //     .style("width", w + "px");

    // var links = d3.select("#center_lines").selectAll(".link")
    //     .data(link_data)
    //   .enter().append("path")
    //     .attr("class", "link")
    //     .attr("d", diagonal);

}

</script>
<div id="connections">
    <div id="sources">
        <select id="src_filter">
        </select>
        <div id="src_container">
            <ul id="src_vars">
            </ul>
        </div>
    </div>
    <div id="targets">
        <select id="tgt_filter">
        </select>
        <div id="tgt_container">
            <ul id="tgt_vars">
            </ul>
        </div>
    </div>
</div>
</body>
</html>
